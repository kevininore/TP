import java.util.Random;

public class TriRécursif {

	public static void main(String[] args) {

		int[] tableau = generate(4);
		System.out.println(" ");
		triRecursif(tableau, 0, 3);
		long début2 = System.nanoTime();
		triRecursif(tableau,0, 3);
		long durée2 = System.nanoTime() - début2; //calcul de la durée du tri récursif
	    System.out.println("La durée du tri récursif est : " + durée2 + "ns" );
	}

	static public int[] generate(int size) {
		int[] tab = new int[size];
		Random rand = new Random();
		for (int i = 0; i < tab.length; i++) {
			tab[i] = (int) (Math.random() * 10);
		}

		for (int j = 0; j < tab.length; j++) {

			System.out.print(tab[j] + " ");

		}
		System.out.println(" ");
		return tab;
	}

	public static int[] Permuter(int[] tab1, int i, int j) {
		int tmp = tab1[i];
		tab1[i] = tab1[j];
		tab1[j] = tmp;
		return tab1;
	}

	public static int partition(int[] tableau, int debut, int fin, int IndexPivot) {
		int c = debut;
		int p = tableau[IndexPivot];
		tableau = Permuter(tableau, debut, IndexPivot);
		for (int i = debut + 1; i < fin; i++) {
			if (tableau[i] < p) {
				c = c+1;
				tableau = Permuter(tableau, i, c);
			}

		}
		tableau = Permuter(tableau, c, debut);
		return c;
}
		


	public static int[] triRecursif(int[] tableau, int debut, int fin) {
		int pivot = (debut + fin) / 2;
		if (debut < fin) {
			pivot = partition(tableau, debut, fin, pivot);
			tableau = triRecursif(tableau, debut, pivot);
			tableau = triRecursif(tableau, pivot + 1, fin);

		}
		for (int j = 0; j < tableau.length; j++) {
			System.out.print(tableau[j] + " ");
		
		}
		return tableau;
	}

	public static int[] triRapide(int[] tableau, int debut, int fin) {
		Random rand = new Random();
		int pivot = rand.nextInt(debut);
		
		//int pivot = Random (debut, fin);
		if (debut < fin) {
			pivot = partition(tableau, debut, fin, pivot);
			tableau = triRecursif(tableau, debut, pivot);
			tableau = triRecursif(tableau, pivot + 1, fin);

		}
		for (int j = 0; j < tableau.length; j++) {
			System.out.print(tableau[j] + " ");

		}

		return tableau;
	}
}
	
